{{ define "title" }}Create a new Championship{{ end }}

{{ define "content" }}

    <h1 class="text-center">Create a Championship</h1>

    <form action="/championships/new/submit" method="post">

        <div class="card mt-3 border-secondary">
            <div class="card-header">
                <strong>Championship</strong>
            </div>

            <div class="card-body">
                <div class="form-group row">
                    <label for="ChampionshipName" class="col-sm-3 col-form-label">Championship Name</label>

                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="ChampionshipName" name="ChampionshipName"
                               placeholder="My awesome championship">
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-3 border-secondary">
            <div class="card-header">
                <strong>Entrants</strong>
            </div>

            <div class="card-body" id="entrants">


                <div class="form-group row">
                    <label for="Cars" class="col-sm-3 col-form-label">
                        Cars
                    </label>

                    <div class="col-sm-9">
                        <select multiple class="form-control" name="Cars" id="Cars" size="15">
                            {{ range $index, $car := .CarOpts }}
                                <option value="{{ $car.Name }}">{{ prettify $car.Name true }}</option>
                            {{ end }}
                        </select>
                    </div>
                </div>

                <hr>

                <div id="entrantTemplate" class="entrant">
                    {{ template "entrant" }}
                </div>

                <div class="entrant">
                    {{ template "entrant" }}
                </div>

                <button class="btn btn-warning float-right" id="addEntrant">Add Entrant</button>

                <div class="clearfix"></div>
            </div>
        </div>

        <div class="card mt-3 border-secondary">
            <div class="card-header">
                <strong>Points</strong>
            </div>

            <div class="card-body">
                <div id="points">
                    <div class="form-group row points-place">
                        <label for="Points.Place" class="col-sm-3 col-form-label">
                            1st Place
                        </label>

                        <div class="col-sm-9">
                            <input type="number" class="form-control" id="Points.Place" name="Points.Place"
                                   placeholder="Points" value="{{ index .DefaultPoints.Places 0 }}">
                        </div>
                    </div>
                </div>

                <hr>

                <div class="form-group row">
                    <label for="Points.BestLap" class="col-sm-3 col-form-label">Best Lap</label>

                    <div class="col-sm-9">
                        <input type="number" class="form-control" id="Points.BestLap" name="Points.BestLap"
                               placeholder="Points" value="0">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="Points.Pole" class="col-sm-3 col-form-label">Pole Position</label>


                    <div class="col-sm-9">
                        <input type="number" class="form-control" id="Points.Pole" name="Points.Pole"
                               placeholder="Points" value="0">
                    </div>
                </div>
            </div>
        </div>


        <button type="submit" class="btn btn-success mt-5 float-right">Add a Race</button>

        <div class="clearfix"></div>
    </form>


    <script type="text/javascript">
        const availableTyres = {{ jsonEncode .Tyres }};
        const possibleEntrants = {{ jsonEncode .PossibleEntrants }};
        const availableCars = {{ jsonEncode .CarOpts.AsMap }};
        const defaultPoints = {{ jsonEncode .DefaultPoints }};
    </script>
{{ end }}